{"title":"Introduction to Network Analysis","markdown":{"yaml":{"title":"Introduction to Network Analysis","author":"LIB 201","format":{"html":{"toc":true}}},"headingText":"Overview:","containsRefs":false,"markdown":"\n\n* Understand how network analyses help answer research questions with quantitative and visual components.\n* Identify parts of a network\n* Analyze relational data using different modes of centrality to determine the influence of individual nodes within the network\n* Clean and model data according to a specific question\n* Use Palladio to customize and interrogate the network\n* Explain the existing relationships in the network\n\n## 1. What is a Network Analysis?\nA Network Analysis is simply a study of relationships among a group of connected things. The \"things\" could be people, cities, cells in the body, etc.! The idea of a network analysis is to visualize these relationships, so you can see the patterns (or lack thereof) in connections within the network.\n\n<img src=\"https://networkofthrones.files.wordpress.com/2020/01/got-all8.png\" alt=\"sample network analysis graph that uses Game of Thrones characters, with largest nodes including Tyrion in light blue, Daenerys in green, Jon in orange, Arya in yellow, and Sansa in pink. From https://networkofthrones.wordpress.com/the-series/seasons-1-8/\" class=\"center\">\n\nWe use network analysis to ask questions about the players in the network, like \n* Who is the most/least influential?\n* What are some of the roles of the different things in this network?\n* How connected are the things in this network?\n* Are there distinct subgroups or \"neighborhoods\" in this network?\n\nFor the Smith Papers collection, we are asking these questions, more or less! \n\n| Question | Smith Papers Translation |\n| ------------------------- | --------------------- |\n| Who is the most influential? | Which person wrote the most letters to the most people? |\n| How connected is this network? | Did everyone write letters to each other, or just some people? |\n| What are the distinct groups? | Who wrote to each other most often? |\n\n<!-- ## Lessons:\n1. [Network Analysis Terms](#1-network-analysis-terms)\n2. [Analyzing Relational Data](#2-analyzing-relational-data)\n3. [Data Modeling for Visualizing a Network](#3-data-modeling-for-visualizing-a-network)\n4. [Software for visualizing a network analysis](#4-software-for-visualizing-a-network-analysis)-->\n\nNetwork analysis visualizations are excellent ways to show what's going on in a complex network, but they cannot stand alone! Even the most clearly labeled network needs context. When you are creating a networked graph, include some writing that gives context to the network, and shows the things you chose to highlight. Then include that explanation alongside the graph in an accessible way. \n\nAnother thing to consider when making highly visual graphs, like the one above, is how *accessible* your visualization may or may not be to everyone, including those with visual impairments. Consider the following when designing a graph:\n* Are your labels large enough to read?\n* Are the colors <a href=\"https://webaim.org/resources/contrastchecker/\">in high enough contrast </a> to distinguish from each other? \n* Is there alternate text or description somewhere that explains the graph with as clearly worded text as possible?\n* Do the density of clusters and lines prevent someone from reading what's going on in your graph?\n\n*Many thanks to Dr. Katayoun Torabi's 2020 Programming4Humanists Presentation \"Introduction to Gephi\" for modeling network analysis and providing the basis for this lesson.*\n\n### Check-in \n\nComplete the [1.Network Analysis check-in](https://muw.instructure.com/courses/19899/quizzes/78707) before moving on to the next section.\n\n<!--### Acknowledgements\n* Lecture notes from Dr. Katayoun Torabi, Programming for Humanists Instructor, Center of Digital Humanities Research at Texas A&M University. http://programming4humanists.tamu.edu/\n* Images of sample networks from https://www.coursera.org/lecture/networks-illustrated/closeness-centrality-part-ii-cqA9S\n* Images of steps in Palladio used from https://hdlab.stanford.edu/palladio/tutorials/data/.-->\n\n## 2. Network Analysis Terms\nMost softwares that facilitate Network Analyses use a different vocabulary. You'll learn about what each part of a network is in this section, and in the next section, we'll talk about different ways analyze those parts. \n\n### Networks\n![example of a simple network with 6 green and pink nodes and edges](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/Slide3.JPG)\n\nA network is a visual representation of relationships between entities. The network alone does not always share the context of the relationships (e.g. \"These are people who talk to each other in this book,\" or \"These are the flight paths among major airlines,\"), but they do highlight relationships. In doing so, they show how different players dominate (or not!) those relationships.\n\n### Nodes\n![example of a simple network the nodes circled](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/Slide5.JPG)\n\nA node represents someone or something in the network. For the Smith Papers project, it will most likely be a person. Nodes can be different colors, depending on how influential they are, what subgroups within the network they belong to, etc. \n\n### Edges\n![example of a simple network the edges highlighted](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/Slide6.JPG)\n\nEdges represent the relationships between nodes. They usually indicate some kind of interaction in a relationship (e.g. conversation, travel, transactions, etc.), and depending on that interaction, an edge can be one of two kinds:\n\n* **Undirected** - an undirected edge indicates that the interaction is reciprocal, like a two-way street, a friendship, a characteristic, etc.\n* **Directed** - a directed edge indicates that the interaction is **not** reciprocal, like a one-way trip, a letter sent to someone, a payment for something, etc. In directed edges, there are those that give, and those that receive (just like in a *real* relationship!):\n  * **Source** - the source is the originator of the interaction, or the giver. Sometimes this is called \"out-degree.\"\n  * **Target** - the target is where the interaction is directed, or the receiver. Sometimes this is called \"in-degree.\"\n\n![example of 2 simple networks with directed edges, indicated by arrows, and undirected edges, indicated by straight lines](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/Slide7.JPG)\n\n### Paths\n![example of a simple network with 6 nodes connected by 7 edges](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/Slide4.JPG)\n\nPaths are the length from one node to the next. In this image, the path length from Ben to Anna is 1, but the path length from Ben to Cara is 2, and so on. The average length of each path will tell us how _dense_ the network is, or in other words, how connected everyone is to each other. If everyone is connected to everyone by 1 path, the network is 100% dense! \n\n...just a few more terms! Stick with me!...\n\n### Check-in\n\nLogin to Canvas and complete the [1.Network Analysis check-in](https://muw.instructure.com/courses/19899/quizzes/78698) before moving on to the next section.\n\n## 2. Analyzing relational data\nDid that phrase make your stomach turn? Don't worry! We are not actually doing math in this class, but we will be using mathematic concepts. We analyze networks by calculating the ways nodes influence each other. Let's break it down.\n\n![example of a simple network with different sized nodes](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/Slide8.JPG)\n\n### Centrality\n\nCentrality is the relative influence of individual nodes within the network. In the image above, the nodes have different sizes and colors to indicate their influence. Notice that Pauline has several direct connections, so they are the largest node. Other nodes, like Martha, have fewer connections, and therefore appear smaller. From this, we infer that Pauline has a more influential role in the network. \n\nFor this class, we will measure centrality with 3 different metrics:\n* Degree\n* Closeness\n* Betweenness\n<!--* Eigenvector (!)-->\n\n#### Degree Centrality\nThe degree of a node is how connected or influential a node is within the network, so degree centrality counts the number of direct connections a node has. In the previous image, Edith Pauline Smith has the highest degree centrality because she has the most immediate connections. To indicate this, we have made the size of node labels correspond to degree, which for Pauline, is the largest.\n\n#### Closeness Centrality\nAnother simple metric is called closeness centrality, which measures which node has the shortest average path to the rest of the nodes in the network.\n\n![example of a simple network with subgroups](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/Slide9.JPG)\n\nUnlike degree, which measures direct connections, closeness measures the proximity of a node to all the other nodes through average path. There are 8 total edges in the network above. If we wanted to calculate the closeness centrality of B, we'd count the shortest path from B to every other node, and take the average.\n\n<br>B -> A = 2\n<br>B -> C = 1\n<br>B -> D = 1\n<br>B -> E = 3\n<br>B -> F = 4\n<br>B -> G = 4\n<br>B -> H = 0 (there are no paths to H from B!)\n<br>B -> I = 0 (there are no paths to I from B!)\n\nB has a closeness centrality of 1.875. (There are 15 total paths to every other node, and 8 total edges, so 15/8=1.875). So this node has more direct connections (2), but is less \"close\" in terms of the entire network (1.875).\n\n## Betweenness Centrality\nDegree and Closeness measure influence through connections and paths. Betweenness centrality indicates nodes that are \"bridges\" between different groups in a network. In other words, they glue pieces of a less dense network together, or they serve as a \"go-between\" for 2 distinct parts of the network.\n\n![example of a simple network that is loosely connected, but bridged together by a node in the center](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/Slide10.JPG)\n\n<!--## Eigenvector Centrality\nThis is the last metric to consider here, and it's essentially an algorithm that calculates which nodes are connected to the most well-connected. (Don't worry, we won't be actually doing this calculating. It's just worth understanding!) In other words, it determines how close a node is to more well-connected nodes.\n\n<p><img src=\"https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/Slide11.JPG\" alt=\"example of a network with a node in the middle that has fewer direct connections, but a higher eigenvector centrality because the nodes around it have higher degree centrality\" width=\"\" height=\"\" /></p>\n\nWhew! That's it.-->\n\n### Check-in\nLog in to Canvas and complete the [2.Network Analysis check in](https://muw.instructure.com/courses/19899/quizzes/78691) before moving on to the next section.\n\n## 3. Data Modeling for Visualizing a Network\n\nIn order to tell the software (which we go over in the next section) how to recognize which nodes are connected, and by what paths, we are going to create a spreadsheet with \"tidy data.\" Each column will have a variable, and each row will be an observation of that variable.\n\nThe most important thing to remember when structuring data for a network analysis is this: what question are you trying to answer with a network analysis graph? Are you trying to see who someone is writing to in a letter? Are you trying to find out who has written the most letters and who has received the most? Are you trying to figure out who gets mentioned more times by one person than another? All of this matters. For instance, if we wanted to see where the letters were coming from and who is writing to whom, we could structure the data like this:\n\n| Source | Target | Address | Return Address |\n| ----------- | ----------- | --------- | ---------|\n| Pauline Smith | Sam H. Smith | Pittsboro | Jackson|\n| Christine Smith | Pauline Smith | Starkville | Pittsboro |\n| Pauline Smith | Martha Smith | Pittsboro | Meridian |\n\nIn this graph, each column heading (the variables) has one observation (the information in one letter). That's tidy data!\n\nSay, for instance, though, that we want to see all of the people mentioned in several letters to get a better idea of the network of people in the lives of the Smith family members and their friends. We could structure our data so that each source (the letter writer) has a target (the person they write to and the people they mention), and each target has either a reciprocal (undirected) or non-reciprocal (directed) edge. \n\n### Check in\nUsing a pencil and paper, sketch what you think the second example's graph might look like. Upload that sketch in Canvas on the [3. Network Analysis check-in](https://muw.instructure.com/courses/19899/quizzes/78687) before moving on to the next section.\n\n## Cleaning Data\n\nWouldn't it be nice if you could just copy and paste some names in a list into a spreadsheet, and click a button to make a nice network graph? IT NEVER WORKS THAT WAY! But that's part of the work of the digital scholar - is to structure data through a process of cleaning and testing it, in order to see if they can answer a question through visualization. Hadley Wickham, author of [Tidy Data](https://vita.had.co.nz/papers/tidy-data.pdf) says:\n\n> It is often said that 80% of data analysis is spent on the process of cleaning and preparing the data (Dasu and Johnson 2003). Data preparation is not just a first step, but must be repeated many times over the course of analysis as new problems come to light or new data is collected.\n\nLuckily, we have done a lot of that work already, and in this class, you won't be starting from scratch, but let's look at the labor that comes with cleaning and preparing data from the beginning.\n\nWhen you export tags from Transkribus, you get a folder that corresponds to each item, and in that folder, a spreadsheet of tags. \n\n![screenshot of a folder containing 346 folders](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/export-job-screenshot.png)\n\nThese files, individually, do not help us answer our research question! So we have to combine them and clean them in order to see all the senders, recipients, and people mentioned in the letters. Rather than open and inspect each file, copy all of its contents, and paste it into a new file, we are using automated functions in Excel to combine the data before we clean and examine our data. Assuming all the data in these files is uniform (and in several cases, [they aren't!](https://docs.google.com/document/d/1YlNf0DtsnwPP9iQbpitkx7oGRia87Q4ratYDo6BkhYI/edit?usp=sharing)), Excel should combine the sheets into one file, going from this...\n\n![screenshot of the 'get data from folder' function in Excel](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/import-data.png)\n\n...to this...\n\n![screenshot of an Excel spreadsheet with combined data from the tags export](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/combined-tags-screenshot.png)\n\nAfter combining these tags, we then add a layer of structure, so that our data will model the question we're asking: how can we use the letters to get an idea of the people in the Smiths' network? Using the [combined tags sheet](https://docs.google.com/spreadsheets/d/1kB8T4NGGUat5enGtTouvO4K0SxhQAVLU/edit?usp=sharing&ouid=108103280018141344202&rtpof=true&sd=true), we created the [structured tags sheet](https://docs.google.com/spreadsheets/d/1pXrEV-Ny5WzDHgn2fyZhbSbetRR8oQGh/edit?usp=sharing&ouid=108103280018141344202&rtpof=true&sd=true). Now we can start adding newly transcribed tags and cleaning them.\n\nThere are lots of ways to clean a spreadsheet - some complex and some simple. Here the recommended steps you can take in order to get from names and data you tagged in the letters, to structured data that you can put into a network graph software. With each step is a video that shows you how to do it!\n\n1. Export the Tags metadata from Transkribus. [Watch this in a video here.](https://drive.google.com/file/d/1TbXO2yrcQtWZng4FGCDrHO17T6V22NIq/view) *Hint: you have already done this step in the data prep assignment*\n2. Copy and past the names of the senders, recipients, and people from your letters to the \"combined tags\" sheet.\n3. Open the \"structured tags\" sheet and add your tags here in the appropriate columns.\n4. Now it's time to clean! I recommend doing these steps in a separate sheet, so you don't accidentally lose any data. Remember: Clean the names **that you can** ([Watch this in a video here](https://drive.google.com/file/d/1oWv-YkLRUZCCWJJBEUw6VZjlUEKtMCJ1/view)) by:  \n     * sorting names A-Z, and reconciling names that are extremely similar in spelling (i.e. ```Bro Breland``` and ```Brother Breland```) for consistency.\n     * replacing _known_ names with their authority control names (i.e. \"mother\" with \"Smith, Edith Pauline). We have identified some people by first name and context, and listed them in [this Google Sheet](https://docs.google.com/spreadsheets/d/1YJeDKaSWJwYFjgCT7rvsQgo52mrRe7ibo9Uqh7BS9qE/edit?usp=sharing). You can do this by Find and Replace (```ctrl+f```), but careful **not to do blanket replacements!** These tend to muck up your data. \n     * de-duplicating names that appear more than once per letter, so you include only one representation of that person. (To measure our network, we are not including each time a person is mentioned in a letter...just that they are mentioned at all!). To do this, copy the column into another sheet, and click on ```Remove Duplicates``` under Data. Paste your de-duplicated list back into the rows associated with that letter, and delete the empty rows.\n\n![spreadsheet screenshot of similar names, including Bro. Brealand and Bro Breland](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/tag-cleaning.png)\n\nIf you don't know the names, that's ok! Remember, we aren't trying to erase anyone's name or presence by assuming  who they are or are not(see [\"Against Cleaning\"](http://curatingmenus.org/articles/against-cleaning/) again!). Kate and Katherine might not be the same person. We don't know! **Embrace the chaos** and keep assumptions to a minimum! This process will take a while and feel repetitive, but remember, that is normal. Give yourself time, and take plenty of breaks.\n\n### Check-in\nWrite a detailed list of things that you did to clean up the data you exported. Did you de-duplicate names? Did you make assumptions for similar names? If so, what assumptions did you make? Write these down as precisely as you can so that if someone else were to follow your directions, they'd get similar results. \n\nComplete the [3a.Network Analysis Check-in](https://muw.instructure.com/courses/19899/quizzes/78690) before moving on. For an example of detailing this process, see the [tags README file](https://docs.google.com/document/d/1YlNf0DtsnwPP9iQbpitkx7oGRia87Q4ratYDo6BkhYI/edit?usp=sharing).\n\n## 4. Software for visualizing a network analysis\n\nWe have prepared our data (it won't be the last time!), so now it's time to see what that looks like in a network analysis software's visualization. There are several different softwares for visualizing a network, and they all serve different purposes. We are going to use [Palladio](https://hdlab.stanford.edu/palladio/) because it is free, has a relatively low accessibility bar, will work in your browser, and most importantly, will allow us to use the visualization to answer our questions: What does the network of people in the lives of the Smith family members look like? Where are the connections and who facilitates them?\n\n### Preparing your visualization\n\n#### 1. Load your data\nYou can either copy and paste the cells from your spreadsheet (columnn headings included), or you can upload your file as a .csv file - *.csv, or comma separated value files are more flexible among different platforms, and is a simpler, less formatted version of tabular (or structured) data.* \n\nPalladio will not support an .xlsx file!\n\nCopying your data will look like this:\n\n![screenshot showing how to copy data for use in Palladio](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/source-target-copy.PNG)\n\nSaving your data to upload will look like this:\n\n![screenshot showing how to save data as .csv for use in Palladio](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/source-target-csv.PNG)\n\n#### 2. Resolve flagged issues in Palladio\n\nPalladio flags inconsistencies in data, like the use of special characters or multiple observations in one variable (i.e. more than one value in a cell. Commas are tricky to this program!). Use Palladio's verification tools, sorting options, and searching option to take another **thorough** look at your data. <!--https://hdlab.stanford.edu/palladio/tutorials/data/-->\n\nClicking on the little red dots will allow you to verify and look further at your data. \n![screenshot showing Palladio's flagged data issues](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/flagged-palladio-data.PNG)\n\nThis is also an opportunity to evaluate if you need to go back and clean the original spreadsheet! For instance, if you are reviewing the issues, and you find that:\n\n* a person's name recorded in 2 different ways,\n* spelling errors, or\n* the type of data (i.e. text, number, date, etc.) is displayed incorrectly,\n\nyou want to take this opportunity to clean your data again. This is part of the process!\n\n![screenshot showing sorted data that needs further cleaning](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/palladio-edit-dimension.PNG)\n\n<!--check-in: post before and after? Or detailed worklog of the changes that were made?-->\n\n#### 3. Choose which dimensions to visualize\nOnce you've verified the data and gone back to clean any leftover issues, it's time to visualize it. (Reality check: this isn't necessarily the end of cleaning data! A visualization can also make inconsistencies and cleaning issues apparent!). For the question of how to visualize the letter writer and their network of people (the person who received the letter and those mentioned within), click the ```Graph``` tab, then choose the following\n* Source dimension - this is the sender of the letter\n* Target dimension - these will be both the recipient and the people mentioned\n\n#### 4. Customize your graph\n* Add facets to your data\n* Size the nodes according to different dimensions (ours will just have one dimension - number of times they appear).\n* Filter what appears in the network (Directed v. Undirected)\n* Drag nodes manually to see different connections among the network. Who is connected to whom? Who bridges the network?\n\n[Here is a brief video of what this process looks like.](https://drive.google.com/file/d/1KN4oU02u0yg4QVd7XeJhUrS3G6l2W4WM/view)\n\nThere are also Palladio's own Tutorials and FAQs for [loading data](http://hdlab.stanford.edu/palladio/tutorials/data/) and [customizing a graph](http://hdlab.stanford.edu/palladio/tutorials/graph/). Both of which are helpful!\n\n### Check-in\nEyeball test - what can you start to answer with the image you see? What looks like it needs fixing? \n\nComplete the last [4.Network Analysis check-in](https://muw.instructure.com/courses/19899/quizzes/78693) before turning in the image of your final visualization for this mini-project.","srcMarkdownNoYaml":"\n\n# Overview:\n* Understand how network analyses help answer research questions with quantitative and visual components.\n* Identify parts of a network\n* Analyze relational data using different modes of centrality to determine the influence of individual nodes within the network\n* Clean and model data according to a specific question\n* Use Palladio to customize and interrogate the network\n* Explain the existing relationships in the network\n\n## 1. What is a Network Analysis?\nA Network Analysis is simply a study of relationships among a group of connected things. The \"things\" could be people, cities, cells in the body, etc.! The idea of a network analysis is to visualize these relationships, so you can see the patterns (or lack thereof) in connections within the network.\n\n<img src=\"https://networkofthrones.files.wordpress.com/2020/01/got-all8.png\" alt=\"sample network analysis graph that uses Game of Thrones characters, with largest nodes including Tyrion in light blue, Daenerys in green, Jon in orange, Arya in yellow, and Sansa in pink. From https://networkofthrones.wordpress.com/the-series/seasons-1-8/\" class=\"center\">\n\nWe use network analysis to ask questions about the players in the network, like \n* Who is the most/least influential?\n* What are some of the roles of the different things in this network?\n* How connected are the things in this network?\n* Are there distinct subgroups or \"neighborhoods\" in this network?\n\nFor the Smith Papers collection, we are asking these questions, more or less! \n\n| Question | Smith Papers Translation |\n| ------------------------- | --------------------- |\n| Who is the most influential? | Which person wrote the most letters to the most people? |\n| How connected is this network? | Did everyone write letters to each other, or just some people? |\n| What are the distinct groups? | Who wrote to each other most often? |\n\n<!-- ## Lessons:\n1. [Network Analysis Terms](#1-network-analysis-terms)\n2. [Analyzing Relational Data](#2-analyzing-relational-data)\n3. [Data Modeling for Visualizing a Network](#3-data-modeling-for-visualizing-a-network)\n4. [Software for visualizing a network analysis](#4-software-for-visualizing-a-network-analysis)-->\n\nNetwork analysis visualizations are excellent ways to show what's going on in a complex network, but they cannot stand alone! Even the most clearly labeled network needs context. When you are creating a networked graph, include some writing that gives context to the network, and shows the things you chose to highlight. Then include that explanation alongside the graph in an accessible way. \n\nAnother thing to consider when making highly visual graphs, like the one above, is how *accessible* your visualization may or may not be to everyone, including those with visual impairments. Consider the following when designing a graph:\n* Are your labels large enough to read?\n* Are the colors <a href=\"https://webaim.org/resources/contrastchecker/\">in high enough contrast </a> to distinguish from each other? \n* Is there alternate text or description somewhere that explains the graph with as clearly worded text as possible?\n* Do the density of clusters and lines prevent someone from reading what's going on in your graph?\n\n*Many thanks to Dr. Katayoun Torabi's 2020 Programming4Humanists Presentation \"Introduction to Gephi\" for modeling network analysis and providing the basis for this lesson.*\n\n### Check-in \n\nComplete the [1.Network Analysis check-in](https://muw.instructure.com/courses/19899/quizzes/78707) before moving on to the next section.\n\n<!--### Acknowledgements\n* Lecture notes from Dr. Katayoun Torabi, Programming for Humanists Instructor, Center of Digital Humanities Research at Texas A&M University. http://programming4humanists.tamu.edu/\n* Images of sample networks from https://www.coursera.org/lecture/networks-illustrated/closeness-centrality-part-ii-cqA9S\n* Images of steps in Palladio used from https://hdlab.stanford.edu/palladio/tutorials/data/.-->\n\n## 2. Network Analysis Terms\nMost softwares that facilitate Network Analyses use a different vocabulary. You'll learn about what each part of a network is in this section, and in the next section, we'll talk about different ways analyze those parts. \n\n### Networks\n![example of a simple network with 6 green and pink nodes and edges](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/Slide3.JPG)\n\nA network is a visual representation of relationships between entities. The network alone does not always share the context of the relationships (e.g. \"These are people who talk to each other in this book,\" or \"These are the flight paths among major airlines,\"), but they do highlight relationships. In doing so, they show how different players dominate (or not!) those relationships.\n\n### Nodes\n![example of a simple network the nodes circled](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/Slide5.JPG)\n\nA node represents someone or something in the network. For the Smith Papers project, it will most likely be a person. Nodes can be different colors, depending on how influential they are, what subgroups within the network they belong to, etc. \n\n### Edges\n![example of a simple network the edges highlighted](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/Slide6.JPG)\n\nEdges represent the relationships between nodes. They usually indicate some kind of interaction in a relationship (e.g. conversation, travel, transactions, etc.), and depending on that interaction, an edge can be one of two kinds:\n\n* **Undirected** - an undirected edge indicates that the interaction is reciprocal, like a two-way street, a friendship, a characteristic, etc.\n* **Directed** - a directed edge indicates that the interaction is **not** reciprocal, like a one-way trip, a letter sent to someone, a payment for something, etc. In directed edges, there are those that give, and those that receive (just like in a *real* relationship!):\n  * **Source** - the source is the originator of the interaction, or the giver. Sometimes this is called \"out-degree.\"\n  * **Target** - the target is where the interaction is directed, or the receiver. Sometimes this is called \"in-degree.\"\n\n![example of 2 simple networks with directed edges, indicated by arrows, and undirected edges, indicated by straight lines](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/Slide7.JPG)\n\n### Paths\n![example of a simple network with 6 nodes connected by 7 edges](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/Slide4.JPG)\n\nPaths are the length from one node to the next. In this image, the path length from Ben to Anna is 1, but the path length from Ben to Cara is 2, and so on. The average length of each path will tell us how _dense_ the network is, or in other words, how connected everyone is to each other. If everyone is connected to everyone by 1 path, the network is 100% dense! \n\n...just a few more terms! Stick with me!...\n\n### Check-in\n\nLogin to Canvas and complete the [1.Network Analysis check-in](https://muw.instructure.com/courses/19899/quizzes/78698) before moving on to the next section.\n\n## 2. Analyzing relational data\nDid that phrase make your stomach turn? Don't worry! We are not actually doing math in this class, but we will be using mathematic concepts. We analyze networks by calculating the ways nodes influence each other. Let's break it down.\n\n![example of a simple network with different sized nodes](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/Slide8.JPG)\n\n### Centrality\n\nCentrality is the relative influence of individual nodes within the network. In the image above, the nodes have different sizes and colors to indicate their influence. Notice that Pauline has several direct connections, so they are the largest node. Other nodes, like Martha, have fewer connections, and therefore appear smaller. From this, we infer that Pauline has a more influential role in the network. \n\nFor this class, we will measure centrality with 3 different metrics:\n* Degree\n* Closeness\n* Betweenness\n<!--* Eigenvector (!)-->\n\n#### Degree Centrality\nThe degree of a node is how connected or influential a node is within the network, so degree centrality counts the number of direct connections a node has. In the previous image, Edith Pauline Smith has the highest degree centrality because she has the most immediate connections. To indicate this, we have made the size of node labels correspond to degree, which for Pauline, is the largest.\n\n#### Closeness Centrality\nAnother simple metric is called closeness centrality, which measures which node has the shortest average path to the rest of the nodes in the network.\n\n![example of a simple network with subgroups](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/Slide9.JPG)\n\nUnlike degree, which measures direct connections, closeness measures the proximity of a node to all the other nodes through average path. There are 8 total edges in the network above. If we wanted to calculate the closeness centrality of B, we'd count the shortest path from B to every other node, and take the average.\n\n<br>B -> A = 2\n<br>B -> C = 1\n<br>B -> D = 1\n<br>B -> E = 3\n<br>B -> F = 4\n<br>B -> G = 4\n<br>B -> H = 0 (there are no paths to H from B!)\n<br>B -> I = 0 (there are no paths to I from B!)\n\nB has a closeness centrality of 1.875. (There are 15 total paths to every other node, and 8 total edges, so 15/8=1.875). So this node has more direct connections (2), but is less \"close\" in terms of the entire network (1.875).\n\n## Betweenness Centrality\nDegree and Closeness measure influence through connections and paths. Betweenness centrality indicates nodes that are \"bridges\" between different groups in a network. In other words, they glue pieces of a less dense network together, or they serve as a \"go-between\" for 2 distinct parts of the network.\n\n![example of a simple network that is loosely connected, but bridged together by a node in the center](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/Slide10.JPG)\n\n<!--## Eigenvector Centrality\nThis is the last metric to consider here, and it's essentially an algorithm that calculates which nodes are connected to the most well-connected. (Don't worry, we won't be actually doing this calculating. It's just worth understanding!) In other words, it determines how close a node is to more well-connected nodes.\n\n<p><img src=\"https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/Slide11.JPG\" alt=\"example of a network with a node in the middle that has fewer direct connections, but a higher eigenvector centrality because the nodes around it have higher degree centrality\" width=\"\" height=\"\" /></p>\n\nWhew! That's it.-->\n\n### Check-in\nLog in to Canvas and complete the [2.Network Analysis check in](https://muw.instructure.com/courses/19899/quizzes/78691) before moving on to the next section.\n\n## 3. Data Modeling for Visualizing a Network\n\nIn order to tell the software (which we go over in the next section) how to recognize which nodes are connected, and by what paths, we are going to create a spreadsheet with \"tidy data.\" Each column will have a variable, and each row will be an observation of that variable.\n\nThe most important thing to remember when structuring data for a network analysis is this: what question are you trying to answer with a network analysis graph? Are you trying to see who someone is writing to in a letter? Are you trying to find out who has written the most letters and who has received the most? Are you trying to figure out who gets mentioned more times by one person than another? All of this matters. For instance, if we wanted to see where the letters were coming from and who is writing to whom, we could structure the data like this:\n\n| Source | Target | Address | Return Address |\n| ----------- | ----------- | --------- | ---------|\n| Pauline Smith | Sam H. Smith | Pittsboro | Jackson|\n| Christine Smith | Pauline Smith | Starkville | Pittsboro |\n| Pauline Smith | Martha Smith | Pittsboro | Meridian |\n\nIn this graph, each column heading (the variables) has one observation (the information in one letter). That's tidy data!\n\nSay, for instance, though, that we want to see all of the people mentioned in several letters to get a better idea of the network of people in the lives of the Smith family members and their friends. We could structure our data so that each source (the letter writer) has a target (the person they write to and the people they mention), and each target has either a reciprocal (undirected) or non-reciprocal (directed) edge. \n\n### Check in\nUsing a pencil and paper, sketch what you think the second example's graph might look like. Upload that sketch in Canvas on the [3. Network Analysis check-in](https://muw.instructure.com/courses/19899/quizzes/78687) before moving on to the next section.\n\n## Cleaning Data\n\nWouldn't it be nice if you could just copy and paste some names in a list into a spreadsheet, and click a button to make a nice network graph? IT NEVER WORKS THAT WAY! But that's part of the work of the digital scholar - is to structure data through a process of cleaning and testing it, in order to see if they can answer a question through visualization. Hadley Wickham, author of [Tidy Data](https://vita.had.co.nz/papers/tidy-data.pdf) says:\n\n> It is often said that 80% of data analysis is spent on the process of cleaning and preparing the data (Dasu and Johnson 2003). Data preparation is not just a first step, but must be repeated many times over the course of analysis as new problems come to light or new data is collected.\n\nLuckily, we have done a lot of that work already, and in this class, you won't be starting from scratch, but let's look at the labor that comes with cleaning and preparing data from the beginning.\n\nWhen you export tags from Transkribus, you get a folder that corresponds to each item, and in that folder, a spreadsheet of tags. \n\n![screenshot of a folder containing 346 folders](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/export-job-screenshot.png)\n\nThese files, individually, do not help us answer our research question! So we have to combine them and clean them in order to see all the senders, recipients, and people mentioned in the letters. Rather than open and inspect each file, copy all of its contents, and paste it into a new file, we are using automated functions in Excel to combine the data before we clean and examine our data. Assuming all the data in these files is uniform (and in several cases, [they aren't!](https://docs.google.com/document/d/1YlNf0DtsnwPP9iQbpitkx7oGRia87Q4ratYDo6BkhYI/edit?usp=sharing)), Excel should combine the sheets into one file, going from this...\n\n![screenshot of the 'get data from folder' function in Excel](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/import-data.png)\n\n...to this...\n\n![screenshot of an Excel spreadsheet with combined data from the tags export](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/combined-tags-screenshot.png)\n\nAfter combining these tags, we then add a layer of structure, so that our data will model the question we're asking: how can we use the letters to get an idea of the people in the Smiths' network? Using the [combined tags sheet](https://docs.google.com/spreadsheets/d/1kB8T4NGGUat5enGtTouvO4K0SxhQAVLU/edit?usp=sharing&ouid=108103280018141344202&rtpof=true&sd=true), we created the [structured tags sheet](https://docs.google.com/spreadsheets/d/1pXrEV-Ny5WzDHgn2fyZhbSbetRR8oQGh/edit?usp=sharing&ouid=108103280018141344202&rtpof=true&sd=true). Now we can start adding newly transcribed tags and cleaning them.\n\nThere are lots of ways to clean a spreadsheet - some complex and some simple. Here the recommended steps you can take in order to get from names and data you tagged in the letters, to structured data that you can put into a network graph software. With each step is a video that shows you how to do it!\n\n1. Export the Tags metadata from Transkribus. [Watch this in a video here.](https://drive.google.com/file/d/1TbXO2yrcQtWZng4FGCDrHO17T6V22NIq/view) *Hint: you have already done this step in the data prep assignment*\n2. Copy and past the names of the senders, recipients, and people from your letters to the \"combined tags\" sheet.\n3. Open the \"structured tags\" sheet and add your tags here in the appropriate columns.\n4. Now it's time to clean! I recommend doing these steps in a separate sheet, so you don't accidentally lose any data. Remember: Clean the names **that you can** ([Watch this in a video here](https://drive.google.com/file/d/1oWv-YkLRUZCCWJJBEUw6VZjlUEKtMCJ1/view)) by:  \n     * sorting names A-Z, and reconciling names that are extremely similar in spelling (i.e. ```Bro Breland``` and ```Brother Breland```) for consistency.\n     * replacing _known_ names with their authority control names (i.e. \"mother\" with \"Smith, Edith Pauline). We have identified some people by first name and context, and listed them in [this Google Sheet](https://docs.google.com/spreadsheets/d/1YJeDKaSWJwYFjgCT7rvsQgo52mrRe7ibo9Uqh7BS9qE/edit?usp=sharing). You can do this by Find and Replace (```ctrl+f```), but careful **not to do blanket replacements!** These tend to muck up your data. \n     * de-duplicating names that appear more than once per letter, so you include only one representation of that person. (To measure our network, we are not including each time a person is mentioned in a letter...just that they are mentioned at all!). To do this, copy the column into another sheet, and click on ```Remove Duplicates``` under Data. Paste your de-duplicated list back into the rows associated with that letter, and delete the empty rows.\n\n![spreadsheet screenshot of similar names, including Bro. Brealand and Bro Breland](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/tag-cleaning.png)\n\nIf you don't know the names, that's ok! Remember, we aren't trying to erase anyone's name or presence by assuming  who they are or are not(see [\"Against Cleaning\"](http://curatingmenus.org/articles/against-cleaning/) again!). Kate and Katherine might not be the same person. We don't know! **Embrace the chaos** and keep assumptions to a minimum! This process will take a while and feel repetitive, but remember, that is normal. Give yourself time, and take plenty of breaks.\n\n### Check-in\nWrite a detailed list of things that you did to clean up the data you exported. Did you de-duplicate names? Did you make assumptions for similar names? If so, what assumptions did you make? Write these down as precisely as you can so that if someone else were to follow your directions, they'd get similar results. \n\nComplete the [3a.Network Analysis Check-in](https://muw.instructure.com/courses/19899/quizzes/78690) before moving on. For an example of detailing this process, see the [tags README file](https://docs.google.com/document/d/1YlNf0DtsnwPP9iQbpitkx7oGRia87Q4ratYDo6BkhYI/edit?usp=sharing).\n\n## 4. Software for visualizing a network analysis\n\nWe have prepared our data (it won't be the last time!), so now it's time to see what that looks like in a network analysis software's visualization. There are several different softwares for visualizing a network, and they all serve different purposes. We are going to use [Palladio](https://hdlab.stanford.edu/palladio/) because it is free, has a relatively low accessibility bar, will work in your browser, and most importantly, will allow us to use the visualization to answer our questions: What does the network of people in the lives of the Smith family members look like? Where are the connections and who facilitates them?\n\n### Preparing your visualization\n\n#### 1. Load your data\nYou can either copy and paste the cells from your spreadsheet (columnn headings included), or you can upload your file as a .csv file - *.csv, or comma separated value files are more flexible among different platforms, and is a simpler, less formatted version of tabular (or structured) data.* \n\nPalladio will not support an .xlsx file!\n\nCopying your data will look like this:\n\n![screenshot showing how to copy data for use in Palladio](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/source-target-copy.PNG)\n\nSaving your data to upload will look like this:\n\n![screenshot showing how to save data as .csv for use in Palladio](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/source-target-csv.PNG)\n\n#### 2. Resolve flagged issues in Palladio\n\nPalladio flags inconsistencies in data, like the use of special characters or multiple observations in one variable (i.e. more than one value in a cell. Commas are tricky to this program!). Use Palladio's verification tools, sorting options, and searching option to take another **thorough** look at your data. <!--https://hdlab.stanford.edu/palladio/tutorials/data/-->\n\nClicking on the little red dots will allow you to verify and look further at your data. \n![screenshot showing Palladio's flagged data issues](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/flagged-palladio-data.PNG)\n\nThis is also an opportunity to evaluate if you need to go back and clean the original spreadsheet! For instance, if you are reviewing the issues, and you find that:\n\n* a person's name recorded in 2 different ways,\n* spelling errors, or\n* the type of data (i.e. text, number, date, etc.) is displayed incorrectly,\n\nyou want to take this opportunity to clean your data again. This is part of the process!\n\n![screenshot showing sorted data that needs further cleaning](https://github.com/hillaryAHR/LIB-201/blob/main/network-analysis-lecture-files/palladio-edit-dimension.PNG)\n\n<!--check-in: post before and after? Or detailed worklog of the changes that were made?-->\n\n#### 3. Choose which dimensions to visualize\nOnce you've verified the data and gone back to clean any leftover issues, it's time to visualize it. (Reality check: this isn't necessarily the end of cleaning data! A visualization can also make inconsistencies and cleaning issues apparent!). For the question of how to visualize the letter writer and their network of people (the person who received the letter and those mentioned within), click the ```Graph``` tab, then choose the following\n* Source dimension - this is the sender of the letter\n* Target dimension - these will be both the recipient and the people mentioned\n\n#### 4. Customize your graph\n* Add facets to your data\n* Size the nodes according to different dimensions (ours will just have one dimension - number of times they appear).\n* Filter what appears in the network (Directed v. Undirected)\n* Drag nodes manually to see different connections among the network. Who is connected to whom? Who bridges the network?\n\n[Here is a brief video of what this process looks like.](https://drive.google.com/file/d/1KN4oU02u0yg4QVd7XeJhUrS3G6l2W4WM/view)\n\nThere are also Palladio's own Tutorials and FAQs for [loading data](http://hdlab.stanford.edu/palladio/tutorials/data/) and [customizing a graph](http://hdlab.stanford.edu/palladio/tutorials/graph/). Both of which are helpful!\n\n### Check-in\nEyeball test - what can you start to answer with the image you see? What looks like it needs fixing? \n\nComplete the last [4.Network Analysis check-in](https://muw.instructure.com/courses/19899/quizzes/78693) before turning in the image of your final visualization for this mini-project."},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"markdown"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../styles.css"],"toc":true,"output-file":"network-analysis.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.450","theme":"cosmo"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}